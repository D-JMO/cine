<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title th:text="'Reserva #' + ${reserva.id} + ' - CinemaxAI'">Detalles de Reserva</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/webjars/font-awesome/css/all.css}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>
<body>
<div th:replace="~{fragments/navbar :: navbar}"></div>

<div class="container mt-4">

    <div class="alert alert-info alert-dismissible fade show mb-4" role="alert">
        <i class="fa-solid fa-circle-info me-2"></i>
        Aquí puedes consultar los detalles de la reserva, editarla o volver a la lista.
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Cerrar"></button>
    </div>

    <div th:if="${reserva != null}" class="card">
        <div class="card-header bg-primary text-white">
            Información de la Reserva
        </div>
        <div class="card-body">
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-hashtag me-2"></i>ID:</strong></div>
                <div class="col-md-8" th:text="${reserva.id}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-film me-2"></i>Película:</strong></div>
                <div class="col-md-8" th:text="${reserva.pelicula.titulo}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-user me-2"></i>Usuario:</strong></div>
                <div class="col-md-8" th:text="${reserva.usuario.nombre}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-calendar me-2"></i>Fecha de Reserva:</strong></div>
                <div class="col-md-8" th:text="${#temporals.format(reserva.fechaReserva, 'dd-MM-yyyy')}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-clock me-2"></i>Hora de Reserva:</strong></div>
                <div class="col-md-8" th:text="${#temporals.format(reserva.horaReserva, 'HH:mm')}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-chair me-2"></i>Número de Asientos:</strong></div>
                <div class="col-md-8" th:text="${reserva.numeroAsientos}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-ticket-alt me-2"></i>Tipo de Entrada:</strong></div>
                <div class="col-md-8" th:text="${reserva.tipoEntrada}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-money-bill me-2"></i>Método de Pago:</strong></div>
                <div class="col-md-8" th:text="${reserva.metodoPago}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-info-circle me-2"></i>Estado:</strong></div>
                <div class="col-md-8" th:text="${reserva.estadoReserva}"></div>
            </div>
            <div class="row mb-2">
                <div class="col-md-4"><strong><i class="fas fa-euro-sign me-2"></i>Total:</strong></div>
                <div class="col-md-8" th:text="${#numbers.formatDecimal(reserva.total, 1, 2) + '€'}"></div>
            </div>
            <hr>
            <div class="d-grid gap-2 d-md-flex justify-content-md-center">
                <a th:href="@{/reservas/editar/{id}(id=${reserva.id})}" class="btn btn-warning me-md-2">
                    <i class="fa-solid fa-edit me-2"></i>Editar Reserva
                </a>
                <a th:href="@{/reservas}" class="btn btn-secondary">
                    <i class="fa-solid fa-arrow-left me-2"></i>Volver a la Lista
                </a>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>